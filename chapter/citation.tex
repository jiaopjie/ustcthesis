\chapter{引用}

\section{自动引用}

自动引用可以由 \verb|hyperref| 宏包提供的命令 \verb|\autoref| 来实现. 自动引用会在引用标号前自动加上对应的前缀. 并且会把前缀和标号一起加上超链接. 效果如下.

定理~\ref{thm:test}. \autoref{def:test}. \autoref{lem:test}. \autoref{prop:test}. \autoref{thm:test}. \autoref{rem:test}. \autoref{ex:test}. \autoref{cor:test}. \autoref{fig:test}. \autoref{tab:test}. \autoref{eq:test}. \autoref{chap:test}.

由于这里各种定理环境共用一个计数器, 自动引用的前缀都是 ``定理''. 若要对不同定理环境区分前缀, 可通过宏包 \verb|aliascnt| 对 \verb|hyperref| 宏包做一些修正.

\section{文献引用}

参考文献引用部分使用了 \verb|natbib| 宏包. 该宏包提供了两种引用文献模式: author-year 和 numerical. 载入该宏包时使用了 \verb|numbers| 选项.

命令 \verb|\bibliographystyle| 用于指定参考文献的样式. 它的参数是要使用参考文献样式对应的 \verb|.bst| 文件的文件名 (不包括扩展名). 宏包 \verb|natbib| 的作者提供了三个可用于 author-year 模式的 \verb|.bst| 文件: \verb|plainnat.bst|, \verb|abbrvnat.bst|, \verb|unsrtnat.bst|.

需要注意的是, 一些标准的 \verb|.bst| 文件 (比如 \verb|plain.bst|) 只支持数字模式. 因此在 author-year 模式下使用这些文件格式可能会遇到下述的错误信息.\\
\verb|Bibliography not compatible with author-year citations.|\\
此时只能使用 numerical 模式.

研究生论文的规范中要求对多作者的文献进行缩写时, 区分中英文文献的缩写词后缀. 这可能需要自己编写新的 \verb|.bst| 文件. 用户如有这样的要求的话, 可自行编写或下载满足条件的 \verb|.bst| 文件
\footnote{例如: \url{https://github.com/ustctug/gbt-7714-2015}}.

宏包 \verb|natbib| 似乎修改了 \verb|\cite| 命令, 并提供了两个新的引用命令 \verb|\citet| 和 \verb|\citep|.

\subsection{numerical 模式}

行文中可通过命令 \verb|\setcitestyle{numbers,square}| 切换到 numerical 模式, 并选定方括号作为界定符. 此时三个引用命令的效果如下表所示.

\setcitestyle{numbers,square}
\begin{center}
  \begin{tabular}{ll}
    \toprule
    命令                      & 效果\\
    \midrule
    \verb|\cite{Knuth1986a}|  & \cite{Knuth1986a}\\
    \verb|\citet{Knuth1986a}| & \citet{Knuth1986a}\\
    \verb|\citep{Knuth1986a}| & \citep{Knuth1986a}\\
    \bottomrule
  \end{tabular}
\end{center}

在 \verb|natbib| 宏包中, 这些引用命令都有两个可选参数, 分别是引用的前缀和后缀. 例如, \verb|\cite| 命令在 numerical 模式下有下面的效果.\\
\verb|\cite[see][Chapter~1]{Knuth1986a}| $\Rightarrow$ \cite[see][Chapter~1]{Knuth1986a}

\subsection{author-year 模式}

行文中可通过命令 \verb|\setcitestyle{authoryear,round}| 切换到 author-year 模式, 并选定圆括号作为界定符. 此时三个引用命令的效果如下表所示.

\setcitestyle{authoryear,round}
\begin{center}
  \begin{tabular}{ll}
    \toprule
    命令                      & 效果\\
    \midrule
    \verb|\cite{Knuth1986a}|  & \cite{Knuth1986a}\\
    \verb|\citet{Knuth1986a}| & \citet{Knuth1986a}\\
    \verb|\citep{Knuth1986a}| & \citep{Knuth1986a}\\
    \bottomrule
  \end{tabular}
\end{center}

引用命令在 author-year 模式下会对多作者的文献使用 ``author1 et al.'' 的形式进行缩写. 带星号的引用命令会罗列所有作者. 这些命令也都可以一次引用多个文献.

\begin{center}
  \begin{tabular}{lp{0.45\textwidth}l}
    \toprule
    命令                                   & 效果\\
    \midrule
    \verb|\cite{Mittelbach2004}|           & \cite{Mittelbach2004}\\
    \verb|\cite*{Mittelbach2004}|          & \cite*{Mittelbach2004}\\
    \verb|\cite{Knuth1984,Knuth1986a}|     & \cite{Knuth1984,Knuth1986a}\\
    \verb|\cite{Knuth1984,Mittelbach2004}| & \cite{Knuth1984,Mittelbach2004}\\
    \verb|\cite{Liu2013,Deng2001}|         & \cite{Liu2013,Deng2001}\\
    \bottomrule
  \end{tabular}
\end{center}

如果行文中使用了 author-year 模式, 则在 \verb|\bibliography| 命令之前应该切换回 numerical 模式. 否则参考文献列表前面不会有数字编号的前缀.
